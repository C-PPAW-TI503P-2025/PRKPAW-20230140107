{"ast":null,"code":"var _jsxFileName = \"/Users/yusuf/Documents/PPAW/107-node-server/20230140107-react-app/src/components/PresensiPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix default icon paths for leaflet (required when using webpack/create-react-app)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nfunction getToken() {\n  return localStorage.getItem('token');\n}\nfunction PresensiPage() {\n  _s();\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [coords, setCoords] = useState(null); // { lat, lng }\n  const [manualLat, setManualLat] = useState('');\n  const [manualLng, setManualLng] = useState('');\n\n  // Ambil lokasi pengguna — tiered strategy:\n  // 1) try coarse (enableHighAccuracy: false) quick\n  // 2) if fails try high accuracy with longer timeout\n  // 3) if still fails try watchPosition as fallback\n  const getLocation = () => {\n    setError('');\n    if (!navigator.geolocation) {\n      setError('Geolocation tidak didukung oleh browser ini.');\n      console.error('navigator.geolocation is undefined');\n      return;\n    }\n    const tryGet = opts => new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject, opts);\n    });\n    const doWatch = () => {\n      try {\n        const id = navigator.geolocation.watchPosition(position => {\n          if (watchRef.current) {\n            navigator.geolocation.clearWatch(watchRef.current);\n            watchRef.current = null;\n          }\n          setCoords({\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          });\n          setError('');\n          console.log('Got position from watchPosition', position);\n        }, watchErr => {\n          console.error('watchPosition error', watchErr);\n          setError('Gagal mendapatkan lokasi: ' + watchErr.message + ' (' + (watchErr.code || '') + ')');\n        }, {\n          enableHighAccuracy: true,\n          timeout: 30000,\n          maximumAge: 0\n        });\n        watchRef.current = id;\n      } catch (watchEx) {\n        console.error('watchPosition throw', watchEx);\n        setError('Gagal memulai watchPosition: ' + watchEx.message);\n      }\n    };\n    const start = () => {\n      // Try coarse first (faster indoors using network)\n      tryGet({\n        enableHighAccuracy: false,\n        timeout: 8000,\n        maximumAge: 0\n      }).then(pos => {\n        console.log('coarse pos', pos);\n        setCoords({\n          lat: pos.coords.latitude,\n          lng: pos.coords.longitude\n        });\n      }).catch(err => {\n        console.warn('coarse failed', err);\n        // if unavailable or timeout, try high accuracy\n        tryGet({\n          enableHighAccuracy: true,\n          timeout: 25000,\n          maximumAge: 0\n        }).then(pos => {\n          console.log('high-accuracy pos', pos);\n          setCoords({\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          });\n        }).catch(err2 => {\n          console.error('high accuracy failed', err2);\n          // fallback to watchPosition\n          doWatch();\n          // give the user more helpful guidance\n          if (err2.code === 1) {\n            setError('Akses lokasi ditolak. Periksa izin lokasi pada browser atau sistem.');\n          } else if (err2.code === 2) {\n            setError('Posisi tidak tersedia (device tidak dapat menentukan lokasi). Coba nyalakan Wi-Fi atau gunakan perangkat lain.');\n          } else if (err2.code === 3) {\n            setError('Permintaan lokasi melebihi batas waktu. Coba lagi di area dengan sinyal lebih baik.');\n          } else {\n            setError('Gagal mendapatkan lokasi: ' + (err2.message || err2));\n          }\n        });\n      });\n    };\n    if (navigator.permissions && navigator.permissions.query) {\n      navigator.permissions.query({\n        name: 'geolocation'\n      }).then(status => {\n        console.log('geolocation permission state', status.state);\n        if (status.state === 'denied') {\n          setError('Akses lokasi diblokir. Periksa pengaturan privasi pada browser atau sistem operasi.');\n        } else {\n          start();\n        }\n      }).catch(e => {\n        console.warn('permissions.query failed', e);\n        start();\n      });\n    } else {\n      start();\n    }\n  };\n  const watchRef = useRef(null);\n  useEffect(() => {\n    getLocation();\n  }, []);\n  const handleCheckIn = async () => {\n    setError('');\n    setMessage('');\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      };\n      if (!coords) {\n        setError('Lokasi belum didapatkan. Mohon izinkan akses lokasi.');\n        return;\n      }\n      const response = await axios.post('/api/presensi/check-in', {\n        latitude: coords.lat,\n        longitude: coords.lng\n      }, config);\n      setMessage(response.data.message || 'Check-in berhasil');\n    } catch (err) {\n      setError(err.response ? err.response.data.message || JSON.stringify(err.response.data) : 'Check-in gagal');\n    }\n  };\n  const handleCheckOut = async () => {\n    setError('');\n    setMessage('');\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getToken()}`\n        }\n      };\n      const response = await axios.post('/api/presensi/check-out', {}, config);\n      setMessage(response.data.message || 'Check-out berhasil');\n    } catch (err) {\n      setError(err.response ? err.response.data.message || JSON.stringify(err.response.data) : 'Check-out gagal');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n    children: [coords && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-4 border rounded-lg overflow-hidden w-full max-w-md\",\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [coords.lat, coords.lng],\n        zoom: 15,\n        style: {\n          height: '300px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: [coords.lat, coords.lng],\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: \"Lokasi Presensi Anda\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold mb-6 text-gray-800\",\n        children: \"Lakukan Presensi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-green-600 mb-4\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }, this), coords && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-4\",\n        children: [\"Lokasi saat ini: \", coords.lat.toFixed(6), \", \", coords.lng.toFixed(6)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), !coords && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4\",\n        children: \"Sedang mengambil lokasi...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: getLocation,\n          className: \"text-sm text-blue-600 underline\",\n          children: \"Ambil lokasi ulang\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCheckIn,\n          className: \"w-full py-3 px-4 bg-green-600 text-white font-semibold rounded-md shadow-sm hover:bg-green-700\",\n          children: \"Check-In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCheckOut,\n          className: \"w-full py-3 px-4 bg-red-600 text-white font-semibold rounded-md shadow-sm hover:bg-red-700\",\n          children: \"Check-Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(PresensiPage, \"ABfCbF/dk+t+EkA67qt4XRZiTYI=\");\n_c = PresensiPage;\nexport default PresensiPage;\nvar _c;\n$RefreshReg$(_c, \"PresensiPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","MapContainer","TileLayer","Marker","Popup","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","getToken","localStorage","getItem","PresensiPage","_s","message","setMessage","error","setError","coords","setCoords","manualLat","setManualLat","manualLng","setManualLng","getLocation","navigator","geolocation","console","tryGet","opts","Promise","resolve","reject","getCurrentPosition","doWatch","id","watchPosition","position","watchRef","current","clearWatch","lat","latitude","lng","longitude","log","watchErr","code","enableHighAccuracy","timeout","maximumAge","watchEx","start","then","pos","catch","err","warn","err2","permissions","query","name","status","state","e","handleCheckIn","config","headers","Authorization","response","post","data","JSON","stringify","handleCheckOut","className","children","center","zoom","style","height","width","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","onClick","_c","$RefreshReg$"],"sources":["/Users/yusuf/Documents/PPAW/107-node-server/20230140107-react-app/src/components/PresensiPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// Fix default icon paths for leaflet (required when using webpack/create-react-app)\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nfunction getToken() {\n  return localStorage.getItem('token');\n}\n\nfunction PresensiPage() {\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const [coords, setCoords] = useState(null); // { lat, lng }\n  const [manualLat, setManualLat] = useState('');\n  const [manualLng, setManualLng] = useState('');\n  \n\n  // Ambil lokasi pengguna — tiered strategy:\n  // 1) try coarse (enableHighAccuracy: false) quick\n  // 2) if fails try high accuracy with longer timeout\n  // 3) if still fails try watchPosition as fallback\n  const getLocation = () => {\n    setError('');\n    if (!navigator.geolocation) {\n      setError('Geolocation tidak didukung oleh browser ini.');\n      console.error('navigator.geolocation is undefined');\n      return;\n    }\n\n    const tryGet = (opts) => new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject, opts);\n    });\n\n    const doWatch = () => {\n      try {\n        const id = navigator.geolocation.watchPosition(\n          (position) => {\n            if (watchRef.current) {\n              navigator.geolocation.clearWatch(watchRef.current);\n              watchRef.current = null;\n            }\n            setCoords({ lat: position.coords.latitude, lng: position.coords.longitude });\n            setError('');\n            console.log('Got position from watchPosition', position);\n          },\n          (watchErr) => {\n            console.error('watchPosition error', watchErr);\n            setError('Gagal mendapatkan lokasi: ' + watchErr.message + ' (' + (watchErr.code || '') + ')');\n          },\n          { enableHighAccuracy: true, timeout: 30000, maximumAge: 0 }\n        );\n        watchRef.current = id;\n      } catch (watchEx) {\n        console.error('watchPosition throw', watchEx);\n        setError('Gagal memulai watchPosition: ' + watchEx.message);\n      }\n    };\n\n    const start = () => {\n      // Try coarse first (faster indoors using network)\n      tryGet({ enableHighAccuracy: false, timeout: 8000, maximumAge: 0 })\n        .then((pos) => {\n          console.log('coarse pos', pos);\n          setCoords({ lat: pos.coords.latitude, lng: pos.coords.longitude });\n        })\n        .catch((err) => {\n          console.warn('coarse failed', err);\n          // if unavailable or timeout, try high accuracy\n          tryGet({ enableHighAccuracy: true, timeout: 25000, maximumAge: 0 })\n            .then((pos) => {\n              console.log('high-accuracy pos', pos);\n              setCoords({ lat: pos.coords.latitude, lng: pos.coords.longitude });\n            })\n            .catch((err2) => {\n              console.error('high accuracy failed', err2);\n              // fallback to watchPosition\n              doWatch();\n              // give the user more helpful guidance\n              if (err2.code === 1) {\n                setError('Akses lokasi ditolak. Periksa izin lokasi pada browser atau sistem.');\n              } else if (err2.code === 2) {\n                setError('Posisi tidak tersedia (device tidak dapat menentukan lokasi). Coba nyalakan Wi-Fi atau gunakan perangkat lain.');\n              } else if (err2.code === 3) {\n                setError('Permintaan lokasi melebihi batas waktu. Coba lagi di area dengan sinyal lebih baik.');\n              } else {\n                setError('Gagal mendapatkan lokasi: ' + (err2.message || err2));\n              }\n            });\n        });\n    };\n\n    if (navigator.permissions && navigator.permissions.query) {\n      navigator.permissions.query({ name: 'geolocation' }).then((status) => {\n        console.log('geolocation permission state', status.state);\n        if (status.state === 'denied') {\n          setError('Akses lokasi diblokir. Periksa pengaturan privasi pada browser atau sistem operasi.');\n        } else {\n          start();\n        }\n      }).catch((e) => {\n        console.warn('permissions.query failed', e);\n        start();\n      });\n    } else {\n      start();\n    }\n  };\n\n  const watchRef = useRef(null);\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  const handleCheckIn = async () => {\n    setError('');\n    setMessage('');\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getToken()}`,\n        },\n      };\n      if (!coords) {\n        setError('Lokasi belum didapatkan. Mohon izinkan akses lokasi.');\n        return;\n      }\n\n      const response = await axios.post(\n        '/api/presensi/check-in',\n        {\n          latitude: coords.lat,\n          longitude: coords.lng,\n        },\n        config\n      );\n      setMessage(response.data.message || 'Check-in berhasil');\n    } catch (err) {\n      setError(err.response ? (err.response.data.message || JSON.stringify(err.response.data)) : 'Check-in gagal');\n    }\n  };\n\n  const handleCheckOut = async () => {\n    setError('');\n    setMessage('');\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${getToken()}`,\n        },\n      };\n      const response = await axios.post('/api/presensi/check-out', {}, config);\n      setMessage(response.data.message || 'Check-out berhasil');\n    } catch (err) {\n      setError(err.response ? (err.response.data.message || JSON.stringify(err.response.data)) : 'Check-out gagal');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n      {coords && (\n        <div className=\"my-4 border rounded-lg overflow-hidden w-full max-w-md\">\n          <MapContainer center={[coords.lat, coords.lng]} zoom={15} style={{ height: '300px', width: '100%' }}>\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <Marker position={[coords.lat, coords.lng]}>\n              <Popup>Lokasi Presensi Anda</Popup>\n            </Marker>\n          </MapContainer>\n        </div>\n      )}\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center\">\n        <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">Lakukan Presensi</h2>\n\n        {message && <p className=\"text-green-600 mb-4\">{message}</p>}\n        {error && <p className=\"text-red-600 mb-4\">{error}</p>}\n\n        {coords && (\n          <p className=\"text-sm text-gray-600 mb-4\">Lokasi saat ini: {coords.lat.toFixed(6)}, {coords.lng.toFixed(6)}</p>\n        )}\n\n        {!coords && (\n          <p className=\"text-sm text-gray-500 mb-4\">Sedang mengambil lokasi...</p>\n        )}\n\n        <div className=\"mb-4\">\n          <button onClick={getLocation} className=\"text-sm text-blue-600 underline\">Ambil lokasi ulang</button>\n        </div>\n\n        <div className=\"flex space-x-4\">\n          <button\n            onClick={handleCheckIn}\n            className=\"w-full py-3 px-4 bg-green-600 text-white font-semibold rounded-md shadow-sm hover:bg-green-700\"\n          >\n            Check-In\n          </button>\n\n          <button\n            onClick={handleCheckOut}\n            className=\"w-full py-3 px-4 bg-red-600 text-white font-semibold rounded-md shadow-sm hover:bg-red-700\"\n          >\n            Check-Out\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PresensiPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}